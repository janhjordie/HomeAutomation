# GitHub Copilot Instructions for HomeAutomation

## YAML File Management

### When Editing HomeAssistant YAML Automations

Every time you make changes to a YAML file in the `HomeAssistant/` directory:

1. **Validate the YAML syntax**
   - Run: `python3 -c "import yaml; yaml.safe_load(open('HomeAssistant/[filename].yaml'))" && echo "✅ Valid" || echo "❌ Invalid"`
   - Ensure the file is valid before proceeding

2. **Increment the Version Number**
   - Find the version in the `description` field (format: `[vX.Y.Z]`)
   - Increment the **MINOR** version (Y) by 1
   - Example: `[v1.0.0]` → `[v1.1.0]`, `[v2.1.0]` → `[v2.2.0]`
   - If no version exists, start with `[v1.0.0]`

3. **Commit with Clear Message**
   - Include the file name and version update
   - Example: `Update Deye-01.yaml to v1.1.0 - Reduce load threshold to 1000W`

### Version Scheme

- **MAJOR (X)**: Breaking changes that fundamentally alter behavior
- **MINOR (Y)**: Feature additions, threshold adjustments, or bug fixes
- **PATCH (Z)**: Reserved for documentation or comment-only changes

### Example Workflow

```yaml
# BEFORE
description: "[v1.0.0] Original description"

# AFTER editing
description: "[v1.1.0] Original description with adjustments"
```

Then validate:
```bash
python3 -c "import yaml; yaml.safe_load(open('HomeAssistant/Deye-XX.yaml'))"
```

---

**Apply to**: All YAML files in `HomeAssistant/` directory
